<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Projection Chart</title>
  <script type="text/javascript" src="js/d3/d3.min.js"></script>
  <script type="text/javascript" src="js/d3/components/d3-axis.min.js"></script>
  <script type="text/javascript" src="js/d3/components/d3-time-format.min.js"></script>
  <script type="text/javascript" src="js/BaseChart.js"></script>
  <script type="text/javascript" src="js/util.js"></script>
  <script type="text/javascript" src="js/projection.js"></script>
  <script type="text/javascript">
    util.ready(function() {
      var data1 = util.generateDummyData();
      var data2 = util.generateDummyData();

      var chart = new BaseChart(
        drawProjectionChart,
        updateProjectionChart
      );
      chart.setData(data1);

      var chart1D3 = d3.select(".chart1").call(chart.d3Draw);

      flexableSize(chart1D3, chart);

      function flexableSize(d3Chart, projectionChart) {
        d3Chart.each(function(element) {
          console.log('a')
          chart.setWidth(
            this.getBoundingClientRect().width
          );
        });
      }

      window.addEventListener('resize', util.throttle(function() {
        // On window resize, rerender the chart so it fills
        // it's parent element.
        flexableSize(chart1D3, chart);

      }), 80);
    })

  </script>
  <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css"/>

</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-lg-9">
      <div style="border:1px solid black" class="chart1"></div>
    </div>
    <div class="col-lg-3">
      <div style="border:1px solid black" class="chart2"></div>
    </div>
  </div>
</div>

</body>
</html>
